üì¶ Guide Firebase Storage - √âtape par √©tape
1. Acc√©der √† la Console Firebase
Va sur console.firebase.google.com

S√©lectionne ton projet CHECKICE

2. Activer Firebase Storage
Dans le menu de gauche, clique sur "Storage" (ic√¥ne dossier)

Clique sur le bouton "Commencer" ou "Get Started"

Tu verras une fen√™tre de configuration :

√âtape 1 : R√®gles de s√©curit√© (garde les r√®gles par d√©faut pour l'instant, on va les modifier apr√®s)

√âtape 2 : Emplacement Cloud Storage (choisis europe-west pour l'Europe)

Clique sur "Termin√©"

Firebase Storage est maintenant activ√© ! ‚úÖ

3. Configurer les r√®gles de s√©curit√©
Dans la page Storage, clique sur l'onglet "Rules" (R√®gles) en haut

Tu verras des r√®gles par d√©faut. Remplace-les par ceci :

javascript
rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    // Autoriser la lecture de toutes les photos de profil
    match /profile-photos/{userId} {
      // Tout le monde peut lire (voir) les photos
      allow read: if true;
      
      // Seul le propri√©taire peut uploader/modifier sa photo
      // ET la taille doit √™tre < 2 MB
      allow write: if request.auth != null 
                   && request.auth.uid == userId 
                   && request.resource.size < 2 * 1024 * 1024;
    }
  }
}
Clique sur "Publier" ou "Publish"

4. V√©rifier l'URL de ton Storage
Dans l'onglet "Files" (Fichiers) de Storage

En haut, tu verras une URL du type :

text
gs://ton-projet.appspot.com
Note cette URL (mais normalement Firebase la d√©tecte automatiquement)

5. Tester l'upload
Une fois que tu as :

‚úÖ Activ√© Storage

‚úÖ Configur√© les r√®gles

‚úÖ Ajout√© le code que je t'ai donn√©

Tu peux tester :

Ouvre ton application

Clique sur ton avatar ‚Üí "Param√®tres du compte"

Clique sur "Choisir une photo"

S√©lectionne une image (JPG, PNG ou GIF, max 2 MB)

La photo devrait s'uploader et remplacer tes initiales ! üéâ

6. V√©rifier que √ßa fonctionne
Dans la console Firebase ‚Üí Storage ‚Üí Files, tu verras un dossier :

text
profile-photos/
  ‚îî‚îÄ‚îÄ [uid-utilisateur].jpg (ou .png)
üîí Explication des r√®gles de s√©curit√©
javascript
// Tout le monde peut VOIR les photos
allow read: if true;

// Seul le propri√©taire peut MODIFIER sa photo
allow write: if request.auth != null           // Utilisateur connect√©
             && request.auth.uid == userId      // C'est bien SA photo
             && request.resource.size < 2MB;    // Taille max 2 MB
Cela signifie :

‚úÖ N'importe qui peut voir les photos de profil (pour l'affichage dans les profils publics)

‚úÖ Seul le propri√©taire peut uploader/modifier/supprimer SA photo

‚úÖ Taille limit√©e √† 2 MB pour √©viter les abus

‚ö†Ô∏è Si √ßa ne fonctionne pas
Erreur possible : storage/unauthorized
‚Üí V√©rifie que les r√®gles sont bien publi√©es

Erreur possible : storage/object-not-found
‚Üí Normal si tu essayes de charger une photo qui n'existe pas encore

Erreur possible : storage/quota-exceeded
‚Üí Tu as d√©pass√© le quota gratuit (5 GB) - peu probable au d√©but

C'est tout ! Une fois Firebase Storage activ√© avec ces r√®gles, l'upload de photo fonctionnera parfaitement. üöÄ

Des questions sur une √©tape en particulier ?